clase de semana 8

    lo que dibujo amin en su cuarderno
    agregar un campo kind a la TS (field, var, type..., func)
    separar la tabla de los campos de un record del flujo
        esto hace que tengamos que terminar el struct_current y seguir buscando por el strcut normal.
    permitir apuntadores a estructuras

Parser
    posicion de los jump (break, continue..)
    acceso a los campos del struct

Tabla de simbolos
    debug
    strings

Main

tipos
    crear
    definir

    verificar
    AST
    recuperacion de errrores de sintaxis

hacer arboles de tipos
para la semana que viene tenemos que podeer crear y definiir tipos
definiri quiere decir que usemos los arboles de tipo toodos del tipo apunta al mismo tipo

cada tambla de simbolos tiene su arbol de tipos hacer uno global es mas complicado de lo que creemos

libreria para modelar los tipos que este integrada con la tabla de simbolos crea circularidad

si hay un error en la libreria de tipos no necesita verlo el usuario final debe explotar en pedazoa


    primer problema que tengo que resolver
    la circularidad
    la tabla de simboles tiene types
    ahora el entry teiene el tipo

    distintos constructos imdef var field fun type

    apuntador al grafo de tipos dentro del entry

    set_kind y set_type

    crear un utils.c con memoria y otras cositas que vayan aparenciendo

    el archivo de typos tiene un grap

    typedef
        void error vool any char int float....

    grafo de tipos
        kend
        size
        union con todas las cosas
            arreglo
                low high contenido

            apuntador
                el apuntador al grago

            dunvion
                apuntador a dominio y rango


        new basic
        new arry
        new pointer
        new fun
        new record // union y struct
        free type
        print type


libreria defensiva explota horrible si no funciona porque son progrmas de nosotros

    assert(que el kind entre los tipos)

    asert(arreglos con los limites)

    en general assert para todos con los king y que los apuntadores no sean nulos donde convenga


en el parser
    declare var y declare field ahora reciben el tipo

    hay que extender el union con type y con entries para pasar cosas

    agregar tipos a los no terminales para que tengan enteros como pinter dims dim y array

    ID . ids


    peos ricos de atributos heradados con pointer to pointer

    cambios en las vainas de declaracion agregando los tipos


    imprimir todo bien bonito

!




